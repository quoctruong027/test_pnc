jQuery(function(o){"use strict";var a=function(){var t;"yes"==ywdpd_qty_args.is_default_qty_enabled&&(t=o(document).find("#ywdpd-table-discounts"),("yes"===ywdpd_qty_args.show_minimum_price?t.find("td.qty-price-info").last():t.find("td.qty-price-info").first()).click())};o(document).on("click","#ywdpd-table-discounts td.qty-price-info",function(t){var d=o(this),a=d.html(),i="*"!=d.data("qtymax")?d.data("qtymax"):d.data("qtymin"),n=d.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_qty_classes),e=d.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes),s=e.find("del").length?e.find("del").html():"",y=d.index(),c=!1;o("td").removeClass("ywdpd_qty_active"),c="horizontal"===ywdpd_qty_args.template?o(document).find("#ywdpd-table-discounts td.qty-info").get(y-1):d.parent().find("td.qty-info"),d.addClass("ywdpd_qty_active"),c&&o(c).addClass("ywdpd_qty_active"),n.val(i),e.html("<del>"+s+"</del> "+a)}),o(document).on("click","#ywdpd-table-discounts td.qty-info",function(t){var d=o(this),a=d.index();o("td.qty-info").removeClass("ywdpd_qty_active"),d.addClass("ywdpd_qty_active");var i=!1;(i="horizontal"===ywdpd_qty_args.template?o(document).find("#ywdpd-table-discounts td.qty-price-info").get(a-1):d.parent().find("td.qty-price-info"))&&o(i).click()}),o(document).on("change","form.cart .qty",function(t){var d,a,i,n,e,s,y;o(document).find("#ywdpd-table-discounts").length&&"yes"==ywdpd_qty_args.is_change_qty_enabled&&(d=o(this).val(),n=!1,(i=(a=o(document).find("#ywdpd-table-discounts")).find("td.qty-price-info").filter(function(){var t=o("form.cart .qty").val();return"*"!==o(this).data("qtymax")?o(this).data("qtymin")<=t&&o(this).data("qtymax")>=t:o(this).data("qtymin")<=t})).length||(i=a.find("td.qty-price-info[data-qtymax='"+d+"']")),n="vertical"===ywdpd_qty_args.template?i.parent().find("td.qty-info"):a.find("td.qty-info").filter(function(){var t=o("form.cart .qty").val();return"*"!==o(this).data("qtymax")?o(this).data("qtymin")<=t&&o(this).data("qtymax")>=t:o(this).data("qtymin")<=t}),i.length&&(a.find("td.qty-price-info").removeClass("ywdpd_qty_active"),e=i.html(),y=(s=i.closest(ywdpd_qty_args.column_product_info_class).find(ywdpd_qty_args.product_price_classes)).find("del").length?s.find("del").html():"",i.addClass("ywdpd_qty_active"),s.html("<del>"+y+"</del> "+e)),n.length&&(a.find("td.qty-info").removeClass("ywdpd_qty_active"),n.addClass("ywdpd_qty_active")))});var t=o('[name|="product_id"]'),d=(t.val(),o('[name|="variation_id"]')),i=t.closest("form"),n=o(".ywdpd-table-discounts-wrapper");if(o(document).on("found_variation",i,function(t,d){o(".ywdpd-table-discounts-wrapper").replaceWith(d.table_price),a()}),!d.length)return a(),!1;d.on("change",function(){""==o(this).val()&&o(".ywdpd-table-discounts-wrapper").replaceWith(n)})});