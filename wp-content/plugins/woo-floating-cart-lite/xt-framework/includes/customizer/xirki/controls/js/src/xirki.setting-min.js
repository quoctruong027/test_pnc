var xirki=xirki||{};xirki=jQuery.extend(xirki,{setting:{get:function(setting){var parts=setting.split("["),foundSetting="",foundInStep=0,currentVal="";_.each(parts,function(part,i){part=part.replace("]","");if(0===i){foundSetting=part}else{foundSetting+="["+part+"]"}if(!_.isUndefined(wp.customize.instance(foundSetting))){currentVal=wp.customize.instance(foundSetting).get();foundInStep=i}if(foundInStep<i){if(_.isObject(currentVal)&&!_.isUndefined(currentVal[part])){currentVal=currentVal[part]}}});return currentVal},set:function(element,value,key){var setting,parts,currentNode="",foundNode="",subSettingObj={},currentVal,subSetting,subSettingParts;setting=element;if(_.isObject(element)){if(jQuery(element).attr("data-id")){setting=element.attr("data-id")}else{setting=element.parents("[data-id]").attr("data-id")}}if("undefined"!==typeof wp.customize.control(setting)){wp.customize.control(setting).setting.set(value);return}parts=setting.split("[");_.each(parts,function(part,i){part=part.replace("]","");currentNode=0===i?part:"["+part+"]";if(!_.isUndefined(wp.customize.instance(currentNode))){foundNode=currentNode;currentVal=wp.customize.instance(foundNode).get()}});subSetting=setting.replace(foundNode,"");if(""!==subSetting){if(!_.isObject(currentVal)){currentVal={}}if("["===subSetting.charAt(0)){subSetting=subSetting.replace("[","")}subSettingParts=subSetting.split("[");_.each(subSettingParts,function(subSettingPart,i){subSettingParts[i]=subSettingPart.replace("]","")});if(key){subSettingParts.push(key)}subSettingObj='{"'+subSettingParts.join('":{"')+'":"'+value+'"'+"}".repeat(subSettingParts.length);subSettingObj=JSON.parse(subSettingObj);jQuery.extend(true,currentVal,subSettingObj);value=currentVal}else{if(key){currentVal=!_.isObject(currentVal)?{}:currentVal;currentVal[key]=value;value=currentVal}}wp.customize.control(foundNode).setting.set(value)}}});