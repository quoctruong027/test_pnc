goog.provide("webfont.modules.Typekit");goog.require("webfont.Font");webfont.modules.Typekit=function(domHelper,configuration){this.domHelper_=domHelper;this.configuration_=configuration};webfont.modules.Typekit.NAME="typekit";goog.scope(function(){var Typekit=webfont.modules.Typekit,Font=webfont.Font;Typekit.prototype.getScriptSrc=function(kitId){var api=this.configuration_["api"]||"https://use.typekit.net";return api+"/"+kitId+".js"};Typekit.prototype.load=function(onReady){var kitId=this.configuration_["id"];var configuration=this.configuration_;var loadWindow=this.domHelper_.getLoadWindow();var that=this;if(kitId){this.domHelper_.loadScript(this.getScriptSrc(kitId),function(err){if(err){onReady([])}else{if(loadWindow["Typekit"]&&loadWindow["Typekit"]["config"]&&loadWindow["Typekit"]["config"]["fn"]){var fn=loadWindow["Typekit"]["config"]["fn"],fonts=[];for(var i=0;i<fn.length;i+=2){var font=fn[i],variations=fn[i+1];for(var j=0;j<variations.length;j++){fonts.push(new Font(font,variations[j]))}}try{loadWindow["Typekit"]["load"]({events:false,classes:false,async:true})}catch(e){}onReady(fonts)}}},2e3)}else{onReady([])}}});