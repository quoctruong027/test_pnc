jQuery(document).ready(function(){"use strict";jQuery(document).on("change",".vi-wcaio-va-qty-input",function(a){let t=parseInt(jQuery(this).val()),i=parseInt(jQuery(this).attr("min")),o=parseInt(jQuery(this).attr("max"));i>t&&(t=i),t>o&&(t=o),jQuery(this).val(t)}),jQuery(document).on("click",".vi-wcaio-va-change-qty",function(a){a.preventDefault(),a.stopPropagation();let t=jQuery(this).closest(".vi-wcaio-va-qty-wrap").find(".vi-wcaio-va-qty-input"),i=parseInt(t.val());jQuery(this).hasClass("vi-wcaio-va-qty-add")?i++:i--,t.val(i).trigger("change")}),jQuery(document).on("click",".vi-wcaio-va-product-bt-atc-cancel, .vi-wcaio-va-cart-form-overlay",function(){jQuery(".vi-wcaio-va-cart-form-wrap-wrap").remove()}),jQuery(document).on("click",".vi-wcaio-loop-variable-bt-atc",function(a){a.preventDefault(),a.stopPropagation();let t=jQuery(this),i=jQuery(this).data("product_id")||"";i||(window.location.href=t.attr("href")),jQuery.ajax({url:viwcaio_va_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_show_variation"),type:"POST",data:{product_id:i},beforeSend:function(){t.addClass("vi-wcaio-product-bt-atc-loading")},success:function(a){if("error"===a.status&&a.url)return window.location.href=a.url,!1;jQuery(document.body).prepend(a.html),jQuery(".vi-wcaio-va-cart-swatches:not(.vi-wcaio-va-cart-swatches-init)").each(function(){jQuery(this).addClass("vi-wcaio-va-cart-swatches-init").viwcaio_get_variations(viwcaio_va_params)})},complete:function(){t.removeClass("vi-wcaio-product-bt-atc-loading")}})})});