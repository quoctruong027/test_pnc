var wcct_timeOut=!1,wcct_hold_header=!1,wcct_hold_footer=!1,wcctRefresh_timers_count=0,wcctCurrent_received_timers=0,wcctAllUniqueTimers=[];!function(a){"use strict";function b(){wcct_data.hasOwnProperty("refresh_timings")&&"no"!==wcct_data.refresh_timings&&a(".wcct_countdown_timer .wcct_timer_wrap").each(function(){var b=this,c=a(this).parents(".wcct_countdown_timer").attr("data-campaign-id");wcctAllUniqueTimers.indexOf(c)>-1||(wcctAllUniqueTimers.push(c),d(),a.ajax({url:wcct_data.admin_ajax,type:"GET",dataType:"json",data:{wcct_action:"wcct_refreshed_times",location:document.location.href,endDate:a(this).attr("data-date"),campID:a(this).parents(".wcct_countdown_timer").attr("data-campaign-id")},beforeSend:function(){"sticky_header"===a(b).parents(".wcct_countdown_timer").attr("data-type")&&(wcct_hold_header=!0),"sticky_footer"===a(b).parents(".wcct_countdown_timer").attr("data-type")&&(wcct_hold_footer=!0),wcctRefresh_timers_count++},success:function(b){wcctCurrent_received_timers++,a(".wcct_countdown_timer[data-campaign-id='"+b.id+"']").each(function(){var c=jQuery(this),d=c.children(".wcct_timer_wrap").attr("data-left");if(0===b.diff)switch(jQuery(this).attr("data-type")){case"sticky_header":if(jQuery(this).hasClass("loaded")){var e=jQuery(this).outerHeight();jQuery(this).animate({top:-e},700),a("body").animate({"margin-top":0},700)}break;case"sticky_footer":if(jQuery(this).hasClass("loaded")){var g=jQuery(this).outerHeight();jQuery(this).animate({bottom:-g},700),a("body").animate({"margin-bottom":0},700)}break;case"cart_table":break;case"info_notice":jQuery(this).parents(".woocommerce-info").fadeOut().remove();break;case"custom_text":jQuery(this).parents(".wcct_custom_text").eq(0).fadeOut().remove();break;case"counter_bar":jQuery(this).parents(".wcct_counter_bar").eq(0).fadeOut().remove();break;case"single":jQuery(this).eq(0).fadeOut().remove()}else{"sticky_header"===c.attr("data-type")&&!0===wcct_hold_header&&(wcct_hold_header=!1,c.hasClass("loaded")||f()),"sticky_footer"===c.attr("data-type")&&(wcct_hold_footer=!1,c.hasClass("loaded")||f());var h=c.attr("data-delay");void 0!==h&&b.diff>parseInt(h)&&c.remove(),parseInt(d)-parseInt(b.diff)>10&&(c.removeAttr("data-wctimer-load"),c.children(".wcct_timer_wrap").attr("data-left",b.diff))}}),wcctRefresh_timers_count===wcctCurrent_received_timers&&d()}}))})}function c(){a("#wp-admin-bar-wcct_admin_page_node-default").length>0&&a("#wp-admin-bar-wcct_admin_page_node-default").html(a(".wcct_header_passed").html())}function d(b){void 0===b&&(b=!0),a(".wcct_timer").length>0&&a(".wcct_timer").each(function(){var c=a(this);if("yes"===c.attr("data-wctimer-load"))return!0;var d,e,f,g,h,i,j,k,l,m,n,o=c.find(".wcct_timer_wrap"),p=(parseInt(o.attr("data-date")),o.attr("data-timer-skin")),q=""!=a(this).attr("data-days")?a(this).attr("data-days"):"day",r=""!=a(this).attr("data-hrs")?a(this).attr("data-hrs"):"hr",s=""!=a(this).attr("data-mins")?a(this).attr("data-mins"):"min",t=""!=a(this).attr("data-secs")?a(this).attr("data-secs"):"sec",u=""!=a(this).attr("data-is-days")?a(this).attr("data-is-days"):"yes",v=""!=a(this).attr("data-is-hrs")?a(this).attr("data-is-hrs"):"yes",w=(new Date).getTime()+1e3*parseInt(o.attr("data-left"));o.wcctCountdown(w,{elapse:!0}).on("update.countdown",function(o){if(e=o.offset.seconds,f=o.offset.minutes,g=o.offset.hours,h=i=j=k=l=m=n="","0"==e&&(h=" wcct_pulse wcct_animated",l=" wcct_border_none"),"0"==e&&"0"==h&&(i=" wcct_pulse wcct_animated",m=" wcct_border_none"),"0"==e&&"0"==h&&"0"==i&&(j=" wcct_pulse wcct_animated",n=" wcct_border_none"),d="",o.elapsed&&1==b){var w=c.parents(".wcct_header_area");w.length>0&&(w.find(".wcct_close").trigger("click"),setTimeout(function(){w.remove()},1e3));var x=c.parents(".wcct_footer_area");if(x.length>0&&(x.find(".wcct_close").trigger("click"),setTimeout(function(){x.remove()},1e3)),setTimeout(function(){c.remove()},1e3),!1===wcct_timeOut&&(a.ajax({url:wcct_data.admin_ajax,type:"POST",dataType:"json",data:{action:"wcct_clear_cache"},success:function(a){},timeout:10}),"yes"===wcct_data.reload_page_on_timer_ends)){setTimeout(function(){window.location.reload()},2e3)}}else{var y="%D",z="%H",A="%M",B="%S";0==b&&(y="00",z="00",A="00",B="00"),"round_fill"===p?((o.offset.totalDays>0||"yes"===u)&&(d='<div class="wcct_round_wrap '+n+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+y+"</span> "+q+'</div></div><div class="wcct_wrap_border '+j+'"></div></div>'),(o.offset.totalHours>0||"yes"===v)&&(d+='<div class="wcct_round_wrap '+m+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+z+"</span> "+r+'</div></div><div class="wcct_wrap_border '+i+'"></div></div>'),d+='<div class="wcct_round_wrap '+l+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+A+"</span> "+s+'</div></div><div class="wcct_wrap_border '+h+'"></div></div><div class="wcct_round_wrap wcct_border_none"><div class="wcct_table"><div class="wcct_table_cell"><span>'+B+"</span> "+t+'</div></div><div class="wcct_wrap_border wcct_pulse wcct_animated"></div></div>'):"round_ghost"===p?((o.offset.totalDays>0||"yes"===u)&&(d='<div class="wcct_round_wrap '+n+'"><div class="wcct_wrap_border '+j+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+y+"</span> "+q+"</div></div></div>"),(o.offset.totalHours>0||"yes"===v)&&(d+='<div class="wcct_round_wrap '+m+'"><div class="wcct_wrap_border '+i+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+z+"</span> "+r+"</div></div></div>"),d+='<div class="wcct_round_wrap '+l+'"><div class="wcct_wrap_border '+h+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+A+"</span> "+s+'</div></div></div><div class="wcct_round_wrap wcct_border_none"><div class="wcct_wrap_border wcct_pulse wcct_animated"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+B+"</span> "+t+"</div></div></div>"):"square_fill"===p?((o.offset.totalDays>0||"yes"===u)&&(d='<div class="wcct_square_wrap '+n+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+y+"</span> "+q+'</div></div><div class="wcct_wrap_border '+j+'"></div></div>'),(o.offset.totalHours>0||"yes"===v)&&(d+='<div class="wcct_square_wrap '+m+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+z+"</span> "+r+'</div></div><div class="wcct_wrap_border '+i+'"></div></div>'),d+='<div class="wcct_square_wrap '+l+'"><div class="wcct_table"><div class="wcct_table_cell"><span>'+A+"</span> "+s+'</div></div><div class="wcct_wrap_border '+h+'"></div></div><div class="wcct_square_wrap wcct_border_none"><div class="wcct_table"><div class="wcct_table_cell"><span>'+B+"</span> "+t+'</div></div><div class="wcct_wrap_border wcct_pulse wcct_animated"></div></div>'):"square_ghost"===p?((o.offset.totalDays>0||"yes"===u)&&(d='<div class="wcct_square_wrap '+n+'"><div class="wcct_wrap_border '+j+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+y+"</span> "+q+"</div></div></div>"),(o.offset.totalHours>0||"yes"===v)&&(d+='<div class="wcct_square_wrap '+m+'"><div class="wcct_wrap_border '+i+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+z+"</span> "+r+"</div></div></div>"),d+='<div class="wcct_square_wrap '+l+'"><div class="wcct_wrap_border '+h+'"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+A+"</span> "+s+'</div></div></div><div class="wcct_square_wrap wcct_border_none"><div class="wcct_wrap_border wcct_pulse wcct_animated"></div><div class="wcct_table"><div class="wcct_table_cell"><span>'+B+"</span> "+t+"</div></div></div>"):"highlight_1"===p?((o.offset.totalDays>0||"yes"===u)&&(d='<div class="wcct_highlight_1_wrap"><span class="wcct_timer_label">'+y+"</span> "+q+'<span class="wcct_colon_sep">:</span></div>'),(o.offset.totalHours>0||"yes"===v)&&(d+='<div class="wcct_highlight_1_wrap"><span class="wcct_timer_label">'+z+"</span> "+r+'<span class="wcct_colon_sep">:</span></div>'),d+='<div class="wcct_highlight_1_wrap"><span class="wcct_timer_label">'+A+"</span> "+s+'<span class="wcct_colon_sep">:</span></div><div class="wcct_highlight_1_wrap"><span class="wcct_timer_label">'+B+"</span> "+t+"</div>"):((o.offset.totalDays>0||"yes"===u)&&(d=y+'<span class="wcct_timer_label_default">'+q+"</span>"),(o.offset.totalHours>0||"yes"===v)&&(d+=" "+z+'<span class="wcct_timer_label_default">'+r+"</span>"),d+=" "+A+'<span class="wcct_timer_label_default">'+s+"</span> "+B+'<span class="wcct_timer_label_default">'+t+"</span>"),a(this).html(o.strftime(d))}}),c.attr("data-wctimer-load","yes")})}function e(){a(".wcct_counter_bar").length>0&&a(".wcct_counter_bar").each(function(){var b=a(this);if(b.css("display","inline-block"),b.find(".wcct_progress_aria").length>0){var c=b.find(".wcct_progress_aria");if(c.visible(!0)&&!c.hasClass("wcct_bar_active")){c.addClass("wcct_bar_active");var d=c.find(".wcct_progress_bar").attr("aria-valuenow");setTimeout(function(){c.find(".wcct_progress_bar").css("width",d+"%")},200)}}})}function f(){var b,c,d,e,f=1e3,g=1e3,h=0;if(a("#wpadminbar").length>0&&(h=a("#wpadminbar").outerHeight()),a(".wcct_header_area").length>0){if(!0===wcct_hold_header)return;if(d=a(".wcct_header_area").eq(0).attr("data-id"),e="wcct_sticky_header_"+d,"1"==i(e))return;""!==a(".wcct_header_area").eq(0).attr("data-delay")&&(f=1e3*parseInt(a(".wcct_header_area").eq(0).attr("data-delay"))),a(".wcct_header_area").eq(0).css({visibility:"hidden",display:"block"}),setTimeout(function(){(b=a(".wcct_header_area").eq(0).outerHeight())>0&&(a(".wcct_header_area").eq(0).css({top:"-"+(b-h)+"px"}),setTimeout(function(){a(".wcct_header_area").eq(0).css({visibility:"visible"}),a(".wcct_header_area").eq(0).animate({top:0+h},{complete:function(){a(this).addClass("loaded")},duration:700}),a("body").animate({"margin-top":b},700)},f))},500)}if(a(".wcct_footer_area").length>0){if(""!==a(".wcct_footer_area").eq(0).attr("data-delay")&&(g=1e3*parseInt(a(".wcct_footer_area").eq(0).attr("data-delay"))),!0===wcct_hold_footer)return;if(d=a(".wcct_footer_area").eq(0).attr("data-id"),e="wcct_sticky_footer_"+d,"1"==i(e))return;a(".wcct_footer_area").eq(0).css({visibility:"hidden",display:"block"}),setTimeout(function(){(c=a(".wcct_footer_area").eq(0).outerHeight())>0&&(a(".wcct_footer_area").eq(0).css({bottom:"-"+c+"px"}),setTimeout(function(){a(".wcct_footer_area").eq(0).css({visibility:"visible"}),a(".wcct_footer_area").eq(0).animate({bottom:0},{complete:function(){a(this).addClass("loaded")},duration:700}),a("body").animate({"margin-bottom":c},700)},g))},500)}}function g(){a("body").on("click",".wcct_close",function(){var b,c=a(this),d=0;a("#wpadminbar").length>0&&(d=a("#wpadminbar").outerHeight());var e=c.attr("data-ref"),f=c.attr("data-expire");if(c.parents(".wcct_"+e+"_area").length>0){var g=c.parents(".wcct_"+e+"_area");b=g.outerHeight(),"header"==e?(g.animate({top:-(b-d)},700),a("body").animate({"margin-top":0},700)):"footer"===e&&(g.animate({bottom:-b},700),a("body").animate({"margin-bottom":0},700)),h(g,f)}})}function h(a,b){var c=a.attr("data-id");j("wcct_sticky_"+a.find(".wcct_close").attr("data-ref")+"_"+c,1,b)}function i(a){try{for(var b=decodeURIComponent(document.cookie),c=a+"=",d=b.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(c))return f.substring(c.length,f.length)}return""}catch(a){return""}}function j(a,b,c){var d=new Date;d.setTime(d.getTime()+1e3*c);var e="expires="+d.toUTCString();document.cookie=a+"="+b+";"+e+";path=/"}a(".variations_form").on("woocommerce_variation_select_change",function(){}),a(".variations_form").on("show_variation",function(a,b){}),a(document).ready(function(){b(),e(),f(),g(),c()}),a(window).scroll(function(){e()}),a(document).ajaxComplete(function(){d()}),a(document).bind("wc_fragments_refreshed",function(){d()})}(jQuery);